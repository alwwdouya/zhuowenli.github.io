<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Input搜索全屏页面</title>
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/font-awesome.min.css">
</head>
<body>
	<div class="container">
		<aside class="slidebar">
			<nav>
				<a href="#"><i class="icon icon-fw icon-comments-o"></i></a>
				<a href="#"><i class="icon icon-fw icon-heart-o"></i></a>
				<a href="#"><i class="icon icon-fw icon-send-o"></i></a>
				<a href="#"><i class="icon icon-fw icon-smile-o"></i></a>
			</nav>
		</aside>
		<div id="searchbox" class="search-box">
			<form action="javascript:void(0);" class="search-form">
				<input type="search" class="search-input" placeholder="搜索...">
				<button type="submit" class="search-submit"></button>
			</form>
			<div class="search-content">
				<div class="dummy-column">
					<h2>People</h2>
					<a class="dummy-media-object">
						<img class="round" src="http://0.gravatar.com/avatar/81b58502541f9445253f30497e53c280?s=50&d=identicon&r=G" alt="Sara Soueidan"/>
						<h3>Sara Soueidan</h3>
					</a>
					<a class="dummy-media-object">
						<img class="round" src="http://0.gravatar.com/avatar/48959f453dffdb6236f4b33eb8e9f4b7?s=50&d=identicon&r=G" alt="Rachel Smith"/>
						<h3>Rachel Smith</h3>
					</a>
					<a class="dummy-media-object">
						<img class="round" src="http://0.gravatar.com/avatar/06458359cb9e370d7c15bf6329e5facb?s=50&d=identicon&r=G" alt="Peter Finlan"/>
						<h3>Peter Finlan</h3>
					</a>
					<a class="dummy-media-object">
						<img class="round" src="http://1.gravatar.com/avatar/db7700c89ae12f7d98827642b30c879f?s=50&d=identicon&r=G" alt="Patrick Cox"/>
						<h3>Patrick Cox</h3>
					</a>
					<a class="dummy-media-object">
						<img class="round" src="http://0.gravatar.com/avatar/cb947f0ebdde8d0f973741b366a51ed6?s=50&d=identicon&r=G" alt="Tim Holman"/>
						<h3>Tim Holman</h3>
					</a>
					<a class="dummy-media-object">
						<img class="round" src="http://1.gravatar.com/avatar/9bc7250110c667cd35c0826059b81b75?s=50&d=identicon&r=G" alt="Shaun Dona"/>
						<h3>Shaun Dona</h3>
					</a>
				</div>
				<div class="dummy-column">
					<h2>Popular</h2>
					<a class="dummy-media-object">
						<img src="img/thumbs/PagePreloadingEffect.png" alt="PagePreloadingEffect"/>
						<h3>Page Preloading Effect</h3>
					</a>
					<a class="dummy-media-object">
						<img src="img/thumbs/ArrowNavigationStyles.png" alt="ArrowNavigationStyles"/>
						<h3>Arrow Navigation Styles</h3>
					</a>
					<a class="dummy-media-object">
						<img src="img/thumbs/HoverEffectsIdeasNew.png" alt="HoverEffectsIdeasNew"/>
						<h3>Ideas for Subtle Hover Effects</h3>
					</a>
					<a class="dummy-media-object">
						<img src="img/thumbs/FreebieHalcyonDays.png" alt="FreebieHalcyonDays"/>
						<h3>Halcyon Days Template</h3>
					</a>
					<a class="dummy-media-object">
						<img src="img/thumbs/ArticleIntroEffects.png" alt="ArticleIntroEffects"/>
						<h3>Inspiration for Article Intro Effects</h3>
					</a>
					<a class="dummy-media-object">
						<img src="img/thumbs/DraggableDualViewSlideshow.png" alt="DraggableDualViewSlideshow"/>
						<h3>Draggable Dual-View Slideshow</h3>
					</a>
				</div>
				<div class="dummy-column">
					<h2>Recent</h2>
					<a class="dummy-media-object">
						<img src="img/thumbs/TooltipStylesInspiration.png" alt="TooltipStylesInspiration"/>
						<h3>Tooltip Styles Inspiration</h3>
					</a>
					<a class="dummy-media-object">
						<img src="img/thumbs/AnimatedHeaderBackgrounds.png" alt="AnimatedHeaderBackgrounds"/>
						<h3>Animated Background Headers</h3>
					</a>
					<a class="dummy-media-object">
						<img src="img/thumbs/OffCanvas.png" alt="OffCanvas"/>
						<h3>Off-Canvas Menu Effects</h3>
					</a>
					<a class="dummy-media-object">
						<img src="img/thumbs/TabStyles.png" alt="TabStyles"/>
						<h3>Tab Styles Inspiration</h3>
					</a>
					<a class="dummy-media-object">
						<img src="img/thumbs/ResponsiveSVGs.png" alt="ResponsiveSVGs"/>
						<h3>Make SVGs Responsive with CSS</h3>
					</a>
					<a class="dummy-media-object">
						<img src="img/thumbs/NotificationStyles.png" alt="NotificationStyles"/>
						<h3>Notification Styles Inspiration</h3>
					</a>
				</div>
			</div>
			<span class="search-close"></span>
		</div>
		<header class="codrops-header">
			<h1>Input搜索全屏页面</h1>
		</header>
		<div class="overlay"></div>
	</div>
	<script type="text/javascript" src="js/classie.js"></script>
	<script type="text/javascript">
		var searchBox = document.getElementById('searchbox'),
			input     = searchBox.querySelector('.search-input'),
			btnClose  = searchBox.querySelector('.search-close'),
			isOpen    = isAnimating = false,
			// 显示/隐藏 搜索页面
			toggleSearch = function (event) {
				// toLowerCase 将搜索框事件 Focus 转换为小写 focus
				// 如果是聚焦状态，或者已经打开，返回false
				if (event.type.toLowerCase() === 'focus' && isOpen ) {
					return false;
				};
				// getBoundingClientRect 获得searchBox的左，上，右和下分别相对浏览器视窗的位置。原点为屏幕左上角。
				var offsets = searchBox.getBoundingClientRect()

				if (isOpen) {
					classie.remove(searchBox,'open');
					if (input.value != '') {
						setTimeout(function(){
							classie.add(searchBox,'hideInput');
							setTimeout(function(){
								classie.remove(searchBox,'hideInput');
								input.value = '';
							},300)
						},500)
					};
					input.blur()
				}else{
					classie.add(searchbox,'open');
				}
				isOpen = !isOpen;
			};

			input.addEventListener('focus',toggleSearch);
			btnClose.addEventListener('click',toggleSearch);

			document.addEventListener('keydown',function(event){
				var keyCode = event.keyCode || event.which;
				if (keyCode == 27 && isOpen) {
					toggleSearch(event);
				};
			})

	</script>
</body>
</html>