<!DOCTYPE html>
<html lang="cn">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

    <link rel="dns-prefetch" href="//disqus.com"/>
    <link rel="dns-prefetch" href="//a.disquscdn.com"/>

    <meta name="Keywords" content="卓文理,前端,前端开发,网页设计,交互设计,css3,svg,animation,javascript"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"/>
    <meta content="yes" name="apple-mobile-web-app-capable" />
    <meta content="black" name="apple-mobile-web-app-status-bar-style" />
    <meta content="telephone=no" name="format-detection" />
    
    <meta name="author" content="卓文理">

    <link rel="apple-touch-icon-precomposed" href="/res/img/icon.png">
    <link rel="apple-touch-icon-precomposed" href="/res/img/icon-72.png" sizes="72x72" />
    <link rel="apple-touch-icon-precomposed" href="/res/img/icon-76.png" sizes="76x76" />
    <link rel="apple-touch-icon-precomposed" href="/res/img/icon-114.png" sizes="114x114" />
    <link rel="apple-touch-icon-precomposed" href="/res/img/icon-120.png" sizes="120x120" />
    <link rel="apple-touch-icon-precomposed" href="/res/img/icon-152.png" sizes="152x152" />
    <link href="/res/img/icon.png" rel="Shortcut Icon" type="image/x-icon"/>

    <title>如何创建文字填充动画 | 卓文理</title>

    
    <link rel="stylesheet" href="/res/css/demo/text-fills/style.css">
    
    <link rel="stylesheet" href="/res/css/style.css">
    <script type="text/javascript" src="/res/js/jquery-2.1.1.min.js"></script>
</head>
<body>
    <div id="container" class="container modify">
        <main id="postPage" class="page post-page post-detail">
                <div class="post-menu">
        <a href="/" class="uplevel">
            <span class="arrow">‹</span>
            <strong class="logo">
                <span class="a">卓</span>
                <span class="b">文</span>
                <span class="c">理</span>
            </strong>
            <h1>前端开发</h1>
        </a>
        <ul class="stats">
            <li>
                <p>本站站长</p>
                <p><a target="_blank" href="http://www.zwlme.com">卓文理</a></p>
            </li>
            <li>
                <p>联系方式</p>
                <p><a target="_blank" href="mailto:531840344@qq.com">531840344@qq.com</a></p>
            </li>
        </ul>
    </div>
            <div class="post-container">
                <div class="article">
                    <a href="/frontend" class="back">
                        <span class="arrow">&lt;</span>
                        <span class="text">返回目录</span>
                    </a>
                    <header class="article-info">
                        <h1>如何创建文字填充动画</h1>
                    </header>
                    <div class="article-body">
                        <p>在CSS3和SVG出现之前，我们脑海里可能会有一些酷炫的想法，因为技术的不支持一直没办法实现。但是，随着技术的发展，这些高大上的想法越来越有实现的可能。例如，我们现在有很多的方式来实现文字填充动画。</p>

<p>大概一年前，<a href="http://sarasoueidan.com/index.html">Sara Soueidan</a>发表了一篇<a href="http://tympanus.net/codrops/2013/12/02/techniques-for-creating-textured-text/">Techniques for Creating Textured Text</a>的文章。这篇神奇的文章告诉我们如何使用一些现代web技术、包括canvas等，来实现创建纹理文字的效果。如图：</p>

<p><img src="/img/post/AnimateTextFills/1.png" alt=""></p>

<p>看到这个，我们就会想，能不能让里面文字填充的背景动起来？我们可以实现文字的阴影或渐变的动画？或者使用一个视频(<code>video</code>)来填充文本如何？</p>

<p>这篇文章我将会分享如何创建图案填充的文本动画。当然，最好还要保留文本的文字选择能力，用于复制、粘贴等。</p>

<p>因为是<strong>高度实验性</strong>的代码，可能有大部分浏览器不支持，为了更好的体验效果请用chrome最新版浏览器来阅读该文章，谢谢。</p>

<h2>方法1：使用<code>background-clip</code></h2>

<p>这个方式可能是我们脑海里第一个蹦出来的想法，虽然只有WebKit内核的浏览器支持，所以要加上<code>-webkit-</code>前缀。</p>

<p>html标签如下：</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;box-with-text&quot;</span><span class="nt">&gt;</span>
    Text
<span class="nt">&lt;/div&gt;</span>
</code></pre></div>
<p>CSS是这样的：</p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.box-with-text</span><span class="p">{</span>
    <span class="k">background-image</span><span class="o">:</span><span class="sx">url(&#39;img/1.jpg&#39;)</span><span class="p">;</span>
    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="k">text</span><span class="o">-</span><span class="n">fill</span><span class="o">-</span><span class="k">color</span><span class="o">:</span> <span class="k">transparent</span><span class="p">;</span>
    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="k">background</span><span class="o">-</span><span class="k">clip</span><span class="o">:</span> <span class="k">text</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>效果如下：</p>

<div class="demo">
    <div class="box-with-text demo1">
        Text
    </div>
</div>

<p>文字依然文本，所以我们可以选择和复制。其缺点是缺乏浏览器的支持。</p>

<p>但我们可以用CSS渐变与-webkit-前缀以除去非Webkit的浏览器的背景：</p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.box-with-text</span><span class="p">{</span>
    <span class="k">background-image</span><span class="o">:-</span><span class="n">webkit</span><span class="o">-</span><span class="n">linear</span><span class="o">-</span><span class="n">gradient</span><span class="p">(</span><span class="k">transparent</span><span class="o">,</span> <span class="k">transparent</span><span class="p">)</span><span class="o">,</span>
                             <span class="sx">url(&#39;img/1.jpg&#39;)</span><span class="p">;</span>
    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="k">text</span><span class="o">-</span><span class="n">fill</span><span class="o">-</span><span class="k">color</span><span class="o">:</span> <span class="k">transparent</span><span class="p">;</span>
    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="k">background</span><span class="o">-</span><span class="k">clip</span><span class="o">:</span> <span class="k">text</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>不支持的浏览器将完全忽略了整个字符串，我们能够避免完全显示的背景图像。这简单的一招将使我们能够解决非Webkit内核的浏览器，如果我们不希望显示的图像话。</p>

<p>如果我们要实现填充动画，CSS可以实现。但是我们CSS动画只能实现改变背景的位置和大小，不能平滑地改变颜色。效果如图</p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="o">//</span> <span class="nt">scss</span>
<span class="k">@include</span> <span class="nt">keyframes</span><span class="o">(</span><span class="nt">stripes</span><span class="o">)</span> <span class="p">{</span>
  <span class="nt">100</span><span class="o">%</span> <span class="p">{</span>
    <span class="k">background-position</span><span class="o">:</span> <span class="m">0</span> <span class="m">-50px</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nc">.box-with-text</span><span class="p">{</span>
    <span class="k">background-image</span><span class="o">:</span> <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">linear</span><span class="o">-</span><span class="n">gradient</span><span class="p">(</span><span class="nb">crimson</span> <span class="m">50%</span><span class="o">,</span> <span class="m">#FD0</span> <span class="m">50%</span><span class="p">);</span>
    <span class="k">background-repeat</span><span class="o">:</span> <span class="k">repeat</span><span class="p">;</span>
    <span class="k">background-position</span><span class="o">:</span> <span class="m">0</span> <span class="m">0</span><span class="p">;</span>
    <span class="k">background</span><span class="o">-</span><span class="k">size</span><span class="o">:</span> <span class="m">100%</span> <span class="m">50px</span><span class="p">;</span>
    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="k">text</span><span class="o">-</span><span class="n">fill</span><span class="o">-</span><span class="k">color</span><span class="o">:</span> <span class="k">transparent</span><span class="p">;</span>
    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="k">background</span><span class="o">-</span><span class="k">clip</span><span class="o">:</span> <span class="k">text</span><span class="p">;</span>
    <span class="o">@</span><span class="n">include</span> <span class="n">animation</span><span class="p">(</span><span class="n">stripes</span> <span class="m">2s</span> <span class="n">linear</span> <span class="n">infinite</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<div class="demo">
    <div class="box-with-text demo2">
        Text
    </div>
</div>

<h3>结论</h3>

<p>使用该技术实现：只支持WebKit内核浏览器，有限的填充文字的动画效果。</p>

<h2>方法2：使用SVG</h2>

<p>SVG是一种奇妙的格式，它具有良好的浏览器支持。在SVG中，我们有三种方式来使文章填充图案：</p>

<ul>
<li>fill</li>
<li>mask</li>
<li>clip-path</li>
</ul>

<p>我将会逐一使用这些方式来展示文字填充图案的效果。</p>

<p>如果你不了解SVG，建议你阅读<a href="http://www.w3.org/TR/SVG/">SVG规范</a>，或者其他<a href="https://docs.webplatform.org/wiki/svg/tutorials">SVG教程</a>等。</p>

<p>html使用方法如下：</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;svg</span> <span class="na">viewBox=</span><span class="s">&quot;0 0 600 300&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;text</span> <span class="na">text-anchor=</span><span class="s">&quot;middle&quot;</span> <span class="na">x=</span><span class="s">&quot;50%&quot;</span> <span class="na">y=</span><span class="s">&quot;50%&quot;</span> <span class="na">dy=</span><span class="s">&quot;.35em&quot;</span> <span class="na">class=</span><span class="s">&quot;text&quot;</span><span class="nt">&gt;</span>
        Text
    <span class="nt">&lt;/text&gt;</span>
<span class="nt">&lt;/svg&gt;</span>
</code></pre></div>
<p>在它的常规文本中，我们也可以自由的复制粘帖</p>

<div class="demo">
    <svg viewBox="0 0 600 300">
        <text text-anchor="middle" x="50%" y="50%" dy=".35em" class="text1">
            Text
        </text>
    </svg>
</div>

<p>在SVG中添加一个简单的linearGradient标签：</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;svg</span> <span class="na">viewBox=</span><span class="s">&quot;0 0 600 300&quot;</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- Gradient --&gt;</span>
    <span class="nt">&lt;linearGradient</span> <span class="na">id=</span><span class="s">&quot;gr-simple&quot;</span> <span class="na">x1=</span><span class="s">&quot;0&quot;</span> <span class="na">y1=</span><span class="s">&quot;0&quot;</span> <span class="na">x2=</span><span class="s">&quot;100%&quot;</span> <span class="na">y2=</span><span class="s">&quot;100%&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;stop</span> <span class="na">stop-color=</span><span class="s">&quot;hsl(50, 100%, 70%)&quot;</span> <span class="na">offset=</span><span class="s">&quot;10%&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;stop</span> <span class="na">stop-color=</span><span class="s">&quot;hsl(320, 100%, 50%)&quot;</span> <span class="na">offset=</span><span class="s">&quot;90%&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/linearGradient&gt;</span>
    <span class="c">&lt;!-- text --&gt;</span>
    <span class="nt">&lt;text</span> <span class="na">text-anchor=</span><span class="s">&quot;middle&quot;</span> <span class="na">x=</span><span class="s">&quot;50%&quot;</span> <span class="na">y=</span><span class="s">&quot;50%&quot;</span> <span class="na">dy=</span><span class="s">&quot;.35em&quot;</span> <span class="na">class=</span><span class="s">&quot;text&quot;</span><span class="nt">&gt;</span>
        Text
    <span class="nt">&lt;/text&gt;</span>
<span class="nt">&lt;/svg&gt;</span>
</code></pre></div><div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.text</span> <span class="p">{</span>
    <span class="k">font</span><span class="o">:</span> <span class="m">12.5em</span><span class="o">/</span><span class="m">1</span> <span class="n">Open</span> <span class="n">Sans</span><span class="o">,</span> <span class="n">Impact</span><span class="p">;</span>
    <span class="k">text-transform</span><span class="o">:</span> <span class="k">uppercase</span><span class="p">;</span>
    <span class="n">fill</span><span class="o">:</span> <span class="sx">url(#gr-simple)</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>就可以实现渐变填充的效果：</p>

<div class="demo">
    <svg viewBox="0 0 600 300">
        <!-- Gradient -->
        <linearGradient id="gr-simple" x1="0" y1="0" x2="100%" y2="100%">
            <stop stop-color="hsl(50, 100%, 70%)" offset="10%"/>
            <stop stop-color="hsl(320, 100%, 50%)" offset="90%"/>
        </linearGradient>
        <!-- text -->
        <text text-anchor="middle" x="50%" y="50%" dy=".35em" class="text2">
            Text
        </text>
    </svg>
</div>

<p>想了解更多关于<code>gradients</code>的知识可以阅读<a href="http://www.sitepoint.com/author/jtrythall/">Joni Trythall</a>的文章<a href="http://www.sitepoint.com/getting-started-svg-gradients/">Getting Started with SVG Gradients</a></p>

<p>使用<code>fill</code>来填充颜色的方式也可以直接写在<code>text</code>的属性<code>fill</code>上，要使用<code>gradients</code>是必须定义ID，并且将之插入到<code>url()</code>中。</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;svg</span> <span class="na">viewBox=</span><span class="s">&quot;0 0 600 300&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;text</span> <span class="na">text-anchor=</span><span class="s">&quot;middle&quot;</span> <span class="na">x=</span><span class="s">&quot;50%&quot;</span> <span class="na">y=</span><span class="s">&quot;50%&quot;</span> <span class="na">dy=</span><span class="s">&quot;.35em&quot;</span> <span class="na">class=</span><span class="s">&quot;text&quot;</span> <span class="na">fill=</span><span class="s">&quot;url(#gr-simple)&quot;</span><span class="nt">&gt;</span>
        Text
    <span class="nt">&lt;/text&gt;</span>
<span class="nt">&lt;/svg&gt;</span>
</code></pre></div>
<p>当然，你喜欢使用css的话也行。</p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.text</span> <span class="p">{</span>
    <span class="n">fill</span><span class="o">:</span> <span class="sx">url(#gr-simple)</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>我们可以设置<code>gradient</code>的字体颜色，但是我们需要使用SMIL来控制<code>gradient</code>的其他属性</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="c">&lt;!-- Gradient --&gt;</span>
<span class="nt">&lt;radialGradient</span> <span class="na">id=</span><span class="s">&quot;gr-radial&quot;</span>
    <span class="na">cx=</span><span class="s">&quot;50%&quot;</span> <span class="na">cy=</span><span class="s">&quot;50%&quot;</span> <span class="na">r=</span><span class="s">&quot;70%&quot;</span><span class="nt">&gt;</span>

    <span class="c">&lt;!-- Animation for radius of gradient --&gt;</span>
    <span class="nt">&lt;animate</span> <span class="na">attributeName=</span><span class="s">&quot;r&quot;</span>
             <span class="na">values=</span><span class="s">&quot;0%;150%;100%;0%&quot;</span>
             <span class="na">dur=</span><span class="s">&quot;5s&quot;</span> <span class="na">repeatCount=</span><span class="s">&quot;indefinite&quot;</span> <span class="nt">/&gt;</span>

    <span class="c">&lt;!-- Animation for colors of stop-color --&gt;</span>
    <span class="nt">&lt;stop</span> <span class="na">stop-color=</span><span class="s">&quot;#FFF&quot;</span> <span class="na">offset=</span><span class="s">&quot;0&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;animate</span> <span class="na">attributeName=</span><span class="s">&quot;stop-color&quot;</span>
             <span class="na">values=</span><span class="s">&quot;#333;#FFF;#FFF;#333&quot;</span>
             <span class="na">dur=</span><span class="s">&quot;5s&quot;</span> <span class="na">repeatCount=</span><span class="s">&quot;indefinite&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/stop&gt;</span>
    <span class="nt">&lt;stop</span> <span class="na">stop-color=</span><span class="s">&quot;rgba(55,55,55,0)&quot;</span> <span class="na">offset=</span><span class="s">&quot;100%&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/radialGradient&gt;</span>
</code></pre></div>
<p>效果如下</p>

<div class="demo">
    <svg viewBox="0 0 600 300" style="background: #000;">
        <!-- Gradient -->
        <radialGradient id="gr-radial" cx="50%" cy="50%" r="70%" >
            <!-- Gradient动画的半径 -->
            <animate attributeName="r" values="0%;150%;100%;0%" dur="5s" repeatCount="indefinite" />
            <!-- Gradient渐变色彩 -->
            <stop stop-color="#FFF" offset="0">
                <animate attributeName="stop-color" values="#333;#FFF;#FFF;#333" dur="5s" repeatCount="indefinite" />
            </stop>
            <stop stop-color="rgba(55,55,55,0)" offset="100%"/>
        </radialGradient>
        <!-- Text -->
        <text text-anchor="middle" x="50%" y="50%" dy=".35em" class="text3" >
            Text
        </text>
    </svg>
</div>

<p>想了解更多关于SMIL的知识可以阅读Sara Soueidan的文章<a href="http://css-tricks.com/guide-svg-animations-smil/">A Guide to SVG Animations (SMIL)</a></p>

<p>现在我们来使用<code>&lt;pattern&gt;</code>试试。</p>

<div class="demo">
    <svg viewBox="0 0 600 300" class="demo3">
        <pattern id="p-spots" viewBox="0 0 80 80" patternUnits="userSpaceOnUse" width="60" height="60" x="5" y="5" >
            <g class="g-spots">
                <circle r="5" cx="10" cy="10"/>
                <circle r="7" cx="30" cy="30"/>
                <circle r="5" cx="50" cy="10"/>
                <circle r="9" cx="70" cy="30"/>
                <circle r="11" cx="50" cy="50"/>
                <circle r="5" cx="10" cy="50"/>
                <circle r="7" cx="30" cy="70"/>
                <circle r="9" cx="70" cy="70"/>
            </g>
        </pattern>
        <!-- Text -->
        <text text-anchor="middle" x="50%" y="50%" dy=".35em" class="text" >
            Text
        </text>
    </svg>
</div>

<p><code>&lt;pattern&gt;</code>标签的代码如下：</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;pattern</span> <span class="na">id=</span><span class="s">&quot;p-spots&quot;</span> <span class="na">viewBox=</span><span class="s">&quot;0 0 80 80&quot;</span> <span class="na">patternUnits=</span><span class="s">&quot;userSpaceOnUse&quot;</span> <span class="na">width=</span><span class="s">&quot;60&quot;</span> <span class="na">height=</span><span class="s">&quot;60&quot;</span> <span class="na">x=</span><span class="s">&quot;5&quot;</span> <span class="na">y=</span><span class="s">&quot;5&quot;</span> <span class="nt">&gt;</span>
    <span class="nt">&lt;g</span> <span class="na">class=</span><span class="s">&quot;g-spots&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;circle</span> <span class="na">r=</span><span class="s">&quot;5&quot;</span> <span class="na">cx=</span><span class="s">&quot;10&quot;</span> <span class="na">cy=</span><span class="s">&quot;10&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;circle</span> <span class="na">r=</span><span class="s">&quot;7&quot;</span> <span class="na">cx=</span><span class="s">&quot;30&quot;</span> <span class="na">cy=</span><span class="s">&quot;30&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;circle</span> <span class="na">r=</span><span class="s">&quot;5&quot;</span> <span class="na">cx=</span><span class="s">&quot;50&quot;</span> <span class="na">cy=</span><span class="s">&quot;10&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;circle</span> <span class="na">r=</span><span class="s">&quot;9&quot;</span> <span class="na">cx=</span><span class="s">&quot;70&quot;</span> <span class="na">cy=</span><span class="s">&quot;30&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;circle</span> <span class="na">r=</span><span class="s">&quot;11&quot;</span> <span class="na">cx=</span><span class="s">&quot;50&quot;</span> <span class="na">cy=</span><span class="s">&quot;50&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;circle</span> <span class="na">r=</span><span class="s">&quot;5&quot;</span> <span class="na">cx=</span><span class="s">&quot;10&quot;</span> <span class="na">cy=</span><span class="s">&quot;50&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;circle</span> <span class="na">r=</span><span class="s">&quot;7&quot;</span> <span class="na">cx=</span><span class="s">&quot;30&quot;</span> <span class="na">cy=</span><span class="s">&quot;70&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;circle</span> <span class="na">r=</span><span class="s">&quot;9&quot;</span> <span class="na">cx=</span><span class="s">&quot;70&quot;</span> <span class="na">cy=</span><span class="s">&quot;70&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/g&gt;</span>
<span class="nt">&lt;/pattern&gt;</span>
</code></pre></div>
<p>这里仅定义了圆的大小和位置，样式需要在css中定义。或者使用sass：</p>
<div class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="c1">//scss</span>
<span class="nv">$colors</span><span class="o">:</span> <span class="mh">#1D4259</span><span class="o">,</span> <span class="mh">#0A7373</span><span class="o">,</span> <span class="mh">#30BF7C</span><span class="o">,</span> <span class="mh">#BAF266</span><span class="o">,</span> <span class="mh">#EEF272</span><span class="p">;</span>
<span class="nv">$max</span><span class="o">:</span> <span class="nf">length</span><span class="p">(</span><span class="nv">$colors</span><span class="p">);</span>

<span class="nc">.g-spots</span> <span class="nt">circle</span> <span class="p">{</span>
    <span class="k">@for</span> <span class="nv">$item</span> <span class="ow">from</span> <span class="mi">1</span> <span class="ow">through</span> <span class="nv">$max</span> <span class="p">{</span>
        <span class="k">&amp;</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nn">#</span><span class="p">{</span><span class="err">$</span><span class="nt">max</span><span class="p">}</span><span class="nt">n</span> <span class="o">+</span> <span class="nn">#</span><span class="p">{</span><span class="err">$</span><span class="nt">item</span><span class="p">}</span><span class="o">)</span><span class="p">{</span>
            <span class="na">fill</span><span class="o">:</span> <span class="nf">nth</span><span class="p">(</span><span class="nv">$colors</span><span class="o">,</span> <span class="nv">$item</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>这样就会生成下面的css：</p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.g-spots</span> <span class="nt">circle</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">5n</span> <span class="o">+</span> <span class="nt">1</span><span class="o">)</span> <span class="p">{</span>
    <span class="n">fill</span><span class="o">:</span> <span class="m">#1D4259</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.g-spots</span> <span class="nt">circle</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">5n</span> <span class="o">+</span> <span class="nt">2</span><span class="o">)</span> <span class="p">{</span>
    <span class="n">fill</span><span class="o">:</span> <span class="m">#0A7373</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.g-spots</span> <span class="nt">circle</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">5n</span> <span class="o">+</span> <span class="nt">3</span><span class="o">)</span> <span class="p">{</span>
    <span class="n">fill</span><span class="o">:</span> <span class="m">#30BF7C</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.g-spots</span> <span class="nt">circle</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">5n</span> <span class="o">+</span> <span class="nt">4</span><span class="o">)</span> <span class="p">{</span>
    <span class="n">fill</span><span class="o">:</span> <span class="m">#BAF266</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.g-spots</span> <span class="nt">circle</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">5n</span> <span class="o">+</span> <span class="nt">5</span><span class="o">)</span> <span class="p">{</span>
    <span class="n">fill</span><span class="o">:</span> <span class="m">#EEF272</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>想了解更多有关于SVG patterns的，可以阅读<a href="https://developer.mozilla.org/zh-TW/docs/Web/SVG/Tutorial/%E5%9B%BE%E6%A1%88">MDN-SVG教程</a>相关文章。</p>

<p>我是使用sass来做css的预编译的，所以可以很方便的指定动画的延时。代码如下：</p>
<div class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="c1">// scss</span>
<span class="nv">$colors</span><span class="o">:</span> <span class="mh">#551F7A</span><span class="o">,</span> <span class="mh">#BA2799</span><span class="o">,</span> <span class="mh">#D9587A</span><span class="o">,</span> <span class="mh">#FFDD00</span><span class="o">,</span> <span class="mh">#FFF3A1</span><span class="p">;</span>
<span class="nv">$max</span><span class="o">:</span> <span class="nf">length</span><span class="p">(</span><span class="nv">$colors</span><span class="p">);</span>

<span class="nv">$time</span><span class="o">:</span> <span class="mi">2</span><span class="kt">s</span><span class="p">;</span>
<span class="nv">$time-step</span><span class="o">:</span> <span class="nv">$time</span><span class="o">/</span><span class="nv">$max</span><span class="p">;</span>

<span class="nc">.g-stars</span> <span class="nt">polygon</span> <span class="p">{</span>
  <span class="na">stroke-width</span><span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
  <span class="na">animation</span><span class="o">:</span> <span class="n">stroke</span> <span class="nv">$time</span> <span class="n">infinite</span><span class="p">;</span>

  <span class="k">@for</span> <span class="nv">$item</span> <span class="ow">from</span> <span class="mi">1</span> <span class="ow">through</span> <span class="nv">$max</span> <span class="p">{</span>
    <span class="k">&amp;</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nn">#</span><span class="p">{</span><span class="err">$</span><span class="nt">max</span><span class="p">}</span><span class="nt">n</span> <span class="o">+</span> <span class="nn">#</span><span class="p">{</span><span class="err">$</span><span class="nt">item</span><span class="p">}</span><span class="o">)</span><span class="p">{</span>
      <span class="nv">$color</span><span class="o">:</span> <span class="nf">nth</span><span class="p">(</span><span class="nv">$colors</span><span class="o">,</span> <span class="nv">$item</span><span class="p">);</span>
      <span class="na">fill</span><span class="o">:</span> <span class="nv">$color</span><span class="p">;</span>
      <span class="na">stroke</span><span class="o">:</span> <span class="nv">$color</span><span class="p">;</span>
      <span class="na">animation-delay</span><span class="o">:</span> <span class="nf">-</span><span class="p">(</span><span class="nv">$time-step</span><span class="o">*</span><span class="nv">$item</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">@keyframes</span> <span class="nt">stroke</span> <span class="p">{</span>
    <span class="nt">50</span><span class="err">%</span> <span class="p">{</span>
        <span class="na">stroke-width</span><span class="o">:</span> <span class="mi">10</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>// 编译后的css</p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="o">//</span> <span class="nt">css</span>
<span class="nc">.g-stars</span> <span class="nt">polygon</span> <span class="p">{</span>
    <span class="n">stroke</span><span class="o">-</span><span class="k">width</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="n">animation</span><span class="o">:</span> <span class="n">stroke</span> <span class="m">2s</span> <span class="n">infinite</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.g-stars</span> <span class="nt">polygon</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">5n</span> <span class="o">+</span> <span class="nt">1</span><span class="o">)</span> <span class="p">{</span>
    <span class="n">fill</span><span class="o">:</span> <span class="m">#551F7A</span><span class="p">;</span>
    <span class="n">stroke</span><span class="o">:</span> <span class="m">#551F7A</span><span class="p">;</span>
    <span class="n">animation</span><span class="o">-</span><span class="n">delay</span><span class="o">:</span> <span class="m">-0.4s</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.g-stars</span> <span class="nt">polygon</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">5n</span> <span class="o">+</span> <span class="nt">2</span><span class="o">)</span> <span class="p">{</span>
    <span class="n">fill</span><span class="o">:</span> <span class="m">#BA2799</span><span class="p">;</span>
    <span class="n">stroke</span><span class="o">:</span> <span class="m">#BA2799</span><span class="p">;</span>
    <span class="n">animation</span><span class="o">-</span><span class="n">delay</span><span class="o">:</span> <span class="m">-0.8s</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.g-stars</span> <span class="nt">polygon</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">5n</span> <span class="o">+</span> <span class="nt">3</span><span class="o">)</span> <span class="p">{</span>
    <span class="n">fill</span><span class="o">:</span> <span class="m">#D9587A</span><span class="p">;</span>
    <span class="n">stroke</span><span class="o">:</span> <span class="m">#D9587A</span><span class="p">;</span>
    <span class="n">animation</span><span class="o">-</span><span class="n">delay</span><span class="o">:</span> <span class="m">-1.2s</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.g-stars</span> <span class="nt">polygon</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">5n</span> <span class="o">+</span> <span class="nt">4</span><span class="o">)</span> <span class="p">{</span>
    <span class="n">fill</span><span class="o">:</span> <span class="m">#FFDD00</span><span class="p">;</span>
    <span class="n">stroke</span><span class="o">:</span> <span class="m">#FFDD00</span><span class="p">;</span>
    <span class="n">animation</span><span class="o">-</span><span class="n">delay</span><span class="o">:</span> <span class="m">-1.6s</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.g-stars</span> <span class="nt">polygon</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">5n</span> <span class="o">+</span> <span class="nt">5</span><span class="o">)</span> <span class="p">{</span>
    <span class="n">fill</span><span class="o">:</span> <span class="m">#FFF3A1</span><span class="p">;</span>
    <span class="n">stroke</span><span class="o">:</span> <span class="m">#FFF3A1</span><span class="p">;</span>
    <span class="n">animation</span><span class="o">-</span><span class="n">delay</span><span class="o">:</span> <span class="m">-2s</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">@keyframes</span> <span class="nt">stroke</span> <span class="p">{</span>
    <span class="nt">50</span><span class="o">%</span> <span class="p">{</span>
        <span class="n">stroke</span><span class="o">-</span><span class="k">width</span><span class="o">:</span> <span class="m">10</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>接下来我们把里面的圆圈替换成星星，并且让他放大缩小。</p>

<div class="demo">
    <svg viewBox="0 0 600 300" class="demo4">
        <pattern id="p-stars" width="70" height="70" viewBox="0 0 120 120" patternUnits="userSpaceOnUse" >
            <g class="g-stars">
                <polygon points="15 22.5 6.18322122 27.1352549 7.86707613 17.3176275 0.734152256 10.3647451 10.5916106 8.93237254 15 0 19.4083894 8.93237254 29.2658477 10.3647451 22.1329239 17.3176275 23.8167788 27.1352549 " transform="scale(.9,.9)"></polygon>
                <polygon points="15 22.5 6.18322122 27.1352549 7.86707613 17.3176275 0.734152256 10.3647451 10.5916106 8.93237254 15 0 19.4083894 8.93237254 29.2658477 10.3647451 22.1329239 17.3176275 23.8167788 27.1352549" transform="translate(30,30) scale(.9,.9)"></polygon>
                <polygon points="15 22.5 6.18322122 27.1352549 7.86707613 17.3176275 0.734152256 10.3647451 10.5916106 8.93237254 15 0 19.4083894 8.93237254 29.2658477 10.3647451 22.1329239 17.3176275 23.8167788 27.1352549" transform="translate(90,30) scale(.9,.9)"></polygon>
                <polygon points="15 22.5 6.18322122 27.1352549 7.86707613 17.3176275 0.734152256 10.3647451 10.5916106 8.93237254 15 0 19.4083894 8.93237254 29.2658477 10.3647451 22.1329239 17.3176275 23.8167788 27.1352549" transform="translate(0,60) scale(.9,.9)"></polygon>
                <polygon points="15 22.5 6.18322122 27.1352549 7.86707613 17.3176275 0.734152256 10.3647451 10.5916106 8.93237254 15 0 19.4083894 8.93237254 29.2658477 10.3647451 22.1329239 17.3176275 23.8167788 27.1352549" transform="translate(60,0) scale(.9,.9)"></polygon>
                <polygon points="15 22.5 6.18322122 27.1352549 7.86707613 17.3176275 0.734152256 10.3647451 10.5916106 8.93237254 15 0 19.4083894 8.93237254 29.2658477 10.3647451 22.1329239 17.3176275 23.8167788 27.1352549" transform="translate(60,60) scale(.9,.9)"></polygon>
                <polygon points="15 22.5 6.18322122 27.1352549 7.86707613 17.3176275 0.734152256 10.3647451 10.5916106 8.93237254 15 0 19.4083894 8.93237254 29.2658477 10.3647451 22.1329239 17.3176275 23.8167788 27.1352549" transform="translate(90,90) scale(.9,.9)"></polygon>
                <polygon points="15 22.5 6.18322122 27.1352549 7.86707613 17.3176275 0.734152256 10.3647451 10.5916106 8.93237254 15 0 19.4083894 8.93237254 29.2658477 10.3647451 22.1329239 17.3176275 23.8167788 27.1352549" transform="translate(30,90) scale(.9,.9)"></polygon>
                <polygon points="15 22.5 6.18322122 27.1352549 7.86707613 17.3176275 0.734152256 10.3647451 10.5916106 8.93237254 15 0 19.4083894 8.93237254 29.2658477 10.3647451 22.1329239 17.3176275 23.8167788 27.1352549" transform="translate(120,60) scale(.9,.9)"></polygon>
                <polygon points="15 22.5 6.18322122 27.1352549 7.86707613 17.3176275 0.734152256 10.3647451 10.5916106 8.93237254 15 0 19.4083894 8.93237254 29.2658477 10.3647451 22.1329239 17.3176275 23.8167788 27.1352549" transform="translate(60,120) scale(.9,.9)"></polygon>
                <polygon points="15 22.5 6.18322122 27.1352549 7.86707613 17.3176275 0.734152256 10.3647451 10.5916106 8.93237254 15 0 19.4083894 8.93237254 29.2658477 10.3647451 22.1329239 17.3176275 23.8167788 27.1352549" transform="translate(0,120) scale(.9,.9)"></polygon>
                <polygon points="15 22.5 6.18322122 27.1352549 7.86707613 17.3176275 0.734152256 10.3647451 10.5916106 8.93237254 15 0 19.4083894 8.93237254 29.2658477 10.3647451 22.1329239 17.3176275 23.8167788 27.1352549" transform="translate(-30,90) scale(.9,.9)"></polygon>
                <!-- Hack to make shapes full  -->
                <polygon></polygon>
                <polygon></polygon>
                <polygon></polygon>
                <polygon points="15 22.5 6.18322122 27.1352549 7.86707613 17.3176275 0.734152256 10.3647451 10.5916106 8.93237254 15 0 19.4083894 8.93237254 29.2658477 10.3647451 22.1329239 17.3176275 23.8167788 27.1352549" transform="translate(120,0) scale(.9,.9)"></polygon>
            </g>
        </pattern>
        <!-- Text -->
        <text text-anchor="middle" x="50%" y="50%" dy=".35em" class="text" >
            Text
        </text>
    </svg>
</div>

<p>因为代码比较长，就不放出了，大家可以自己审查元素来查看。</p>

<p>当然我们也可以使用gif动画，虽然体积会比较庞大，但是可以创建出很好的效果。</p>

<div class="demo">
    <svg viewBox="0 0 600 300" class="demo5">
        <!-- Pattern -->
        <pattern  id="p-fire"  viewBox="30 100 186 200" patternUnits="userSpaceOnUse" width="216" height="200" x="-70" y="35">
            <!-- Fire -->
            <image xlink:href="/img/post/AnimateTextFills/fire.gif" width="256" height="300"/>
        </pattern>
        <!-- Text -->
        <text text-anchor="middle" x="50%" y="50%" dy=".35em" class="text" >
            Text
        </text>
    </svg>
</div>

<p>pattern中用来使用图片的方法如下：</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;pattern</span> <span class="na">id=</span><span class="s">&quot;p-fire&quot;</span> <span class="na">viewBox=</span><span class="s">&quot;30 100 186 200&quot;</span> <span class="na">patternUnits=</span><span class="s">&quot;userSpaceOnUse&quot;</span> <span class="na">width=</span><span class="s">&quot;216&quot;</span> <span class="na">height=</span><span class="s">&quot;200&quot;</span> <span class="na">x=</span><span class="s">&quot;-70&quot;</span> <span class="na">y=</span><span class="s">&quot;35&quot;</span> <span class="nt">&gt;</span>
    <span class="nt">&lt;image</span> <span class="na">xlink:href=</span><span class="s">&quot;/img/post/AnimateTextFills/fire.gif&quot;</span> <span class="na">width=</span><span class="s">&quot;256&quot;</span> <span class="na">height=</span><span class="s">&quot;300&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/pattern&gt;</span>
</code></pre></div>
<p>不同于<code>background-clip</code>，文本文字将正确的显示在最新的浏览器。</p>

<p>接下来我们来谈谈<code>stroke</code>，对于html来说，我们可以使用<code>text-shadow</code>的方式来模拟一个类<code>stroke</code>，但是这种方式很大的局限性。</p>

<p><img src="/img/post/AnimateTextFills/2.png" alt=""></p>

<p>如图，实现这样的效果可以使用如下代码：</p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.box-with-text</span> <span class="p">{</span>
    <span class="k">text-shadow</span><span class="o">:</span> <span class="m">-0px</span> <span class="m">-0px</span> <span class="m">0</span> <span class="nb">yellowgreen</span><span class="o">,</span> <span class="m">0px</span> <span class="m">-0px</span> <span class="m">0</span> <span class="nb">yellowgreen</span><span class="o">,</span> <span class="m">0px</span> <span class="m">0px</span> <span class="m">0</span> <span class="nb">yellowgreen</span><span class="o">,</span> <span class="m">-0px</span> <span class="m">0px</span> <span class="m">0</span> <span class="nb">yellowgreen</span><span class="o">,</span> <span class="m">-1px</span> <span class="m">-1px</span> <span class="m">0</span> <span class="nb">yellowgreen</span><span class="o">,</span> <span class="m">1px</span> <span class="m">-1px</span> <span class="m">0</span> <span class="nb">yellowgreen</span><span class="o">,</span> <span class="m">1px</span> <span class="m">1px</span> <span class="m">0</span> <span class="nb">yellowgreen</span><span class="o">,</span> <span class="m">-1px</span> <span class="m">1px</span> <span class="m">0</span> <span class="nb">yellowgreen</span><span class="o">,</span> <span class="m">-2px</span> <span class="m">-2px</span> <span class="m">0</span> <span class="nb">yellowgreen</span><span class="o">,</span> <span class="m">2px</span> <span class="m">-2px</span> <span class="m">0</span> <span class="nb">yellowgreen</span><span class="o">,</span> <span class="m">2px</span> <span class="m">2px</span> <span class="m">0</span> <span class="nb">yellowgreen</span><span class="o">,</span> <span class="m">-2px</span> <span class="m">2px</span> <span class="m">0</span> <span class="nb">yellowgreen</span><span class="o">,</span> <span class="m">0</span> <span class="m">5px</span> <span class="m">15px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="o">,</span> <span class="m">0</span><span class="o">,</span> <span class="m">0</span><span class="o">,</span> <span class="m">0</span><span class="o">.</span><span class="m">2</span><span class="p">);</span>
    <span class="k">font</span><span class="o">:</span> <span class="m">26</span><span class="n">vmax</span><span class="o">/.</span><span class="m">85</span> <span class="n">Open</span> <span class="n">Sans</span><span class="o">,</span> <span class="n">Impact</span><span class="p">;</span>
    <span class="k">color</span><span class="o">:</span> <span class="m">#FFF</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>用text-shadow实现起来确实非常的繁琐，而且代码相当的臃肿。</p>

<p>不同于HTML，<code>stroke</code>是可用于SVG的所有元素，包括文本。并且除了作为线条它们也可填充渐变和图案。</p>

<div class="demo">
    <svg viewBox="0 0 600 300" class="demo6">
        <symbol id="s-text">
            <text text-anchor="middle" x="50%" y="50%" dy=".35em">
                Text
            </text>
        </symbol>
        <use xlink:href="#s-text" class="text"></use>
        <use xlink:href="#s-text" class="text"></use>
        <use xlink:href="#s-text" class="text"></use>
        <use xlink:href="#s-text" class="text"></use>
        <use xlink:href="#s-text" class="text"></use>
    </svg>
</div>

<p>对于这种类型的<code>stroke</code>，我们需要把许多颜色置入到文本中，可以使用下面的方法来实现。。</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;demo&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;svg</span> <span class="na">viewBox=</span><span class="s">&quot;0 0 600 300&quot;</span> <span class="na">class=</span><span class="s">&quot;demo6&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;symbol</span> <span class="na">id=</span><span class="s">&quot;s-text&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;text</span> <span class="na">text-anchor=</span><span class="s">&quot;middle&quot;</span> <span class="na">x=</span><span class="s">&quot;50%&quot;</span> <span class="na">y=</span><span class="s">&quot;50%&quot;</span> <span class="na">dy=</span><span class="s">&quot;.35em&quot;</span><span class="nt">&gt;</span>
                Text
            <span class="nt">&lt;/text&gt;</span>
        <span class="nt">&lt;/symbol&gt;</span>
        <span class="c">&lt;!-- 复制多个文本 --&gt;</span>
        <span class="nt">&lt;use</span> <span class="na">xlink:href=</span><span class="s">&quot;#s-text&quot;</span> <span class="na">class=</span><span class="s">&quot;text&quot;</span><span class="nt">&gt;&lt;/use&gt;</span>
        <span class="nt">&lt;use</span> <span class="na">xlink:href=</span><span class="s">&quot;#s-text&quot;</span> <span class="na">class=</span><span class="s">&quot;text&quot;</span><span class="nt">&gt;&lt;/use&gt;</span>
        <span class="nt">&lt;use</span> <span class="na">xlink:href=</span><span class="s">&quot;#s-text&quot;</span> <span class="na">class=</span><span class="s">&quot;text&quot;</span><span class="nt">&gt;&lt;/use&gt;</span>
        <span class="nt">&lt;use</span> <span class="na">xlink:href=</span><span class="s">&quot;#s-text&quot;</span> <span class="na">class=</span><span class="s">&quot;text&quot;</span><span class="nt">&gt;&lt;/use&gt;</span>
        <span class="nt">&lt;use</span> <span class="na">xlink:href=</span><span class="s">&quot;#s-text&quot;</span> <span class="na">class=</span><span class="s">&quot;text&quot;</span><span class="nt">&gt;&lt;/use&gt;</span>
    <span class="nt">&lt;/svg&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div>
<p>用样式控制颜色和动画</p>
<div class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="nv">$colors</span><span class="o">:</span> <span class="mh">#551F7A</span><span class="o">,</span> <span class="mh">#BA2799</span><span class="o">,</span> <span class="mh">#D9587A</span><span class="o">,</span> <span class="mh">#FFDD00</span><span class="o">,</span> <span class="mh">#FFF3A1</span><span class="p">;</span>
<span class="nv">$max</span><span class="o">:</span> <span class="nf">length</span><span class="p">(</span><span class="nv">$colors</span><span class="p">);</span>

<span class="k">@include</span><span class="nd"> keyframes</span><span class="p">(</span><span class="n">stroke2</span><span class="p">)</span> <span class="p">{</span>
  <span class="nt">100</span><span class="err">%</span> <span class="p">{</span>
    <span class="na">stroke-dashoffset</span><span class="o">:</span> <span class="mi">-400</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">//scss</span>
<span class="nc">.text</span> <span class="p">{</span>
    <span class="na">fill</span><span class="o">:</span> <span class="no">none</span><span class="p">;</span>
    <span class="na">stroke-width</span><span class="o">:</span> <span class="mi">6</span><span class="p">;</span>
    <span class="na">stroke-linejoin</span><span class="o">:</span> <span class="n">round</span><span class="p">;</span>
    <span class="na">stroke-dasharray</span><span class="o">:</span> <span class="mi">70</span> <span class="mi">330</span><span class="p">;</span>
    <span class="na">stroke-dashoffset</span><span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">@include</span><span class="nd"> animation</span><span class="p">(</span><span class="n">stroke2</span> <span class="mi">6</span><span class="kt">s</span> <span class="n">infinite</span> <span class="n">linear</span><span class="p">);</span>
    <span class="k">@for</span> <span class="nv">$item</span> <span class="ow">from</span> <span class="mi">1</span> <span class="ow">through</span> <span class="nv">$max</span> <span class="p">{</span>
        <span class="k">&amp;</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nn">#</span><span class="p">{</span><span class="err">$</span><span class="nt">max</span><span class="p">}</span><span class="nt">n</span> <span class="o">+</span> <span class="nn">#</span><span class="p">{</span><span class="err">$</span><span class="nt">item</span><span class="p">}</span><span class="o">)</span><span class="p">{</span>
            <span class="nv">$color</span><span class="o">:</span> <span class="nf">nth</span><span class="p">(</span><span class="nv">$colors</span><span class="o">,</span> <span class="nv">$item</span><span class="p">);</span>
            <span class="na">stroke</span><span class="o">:</span> <span class="nv">$color</span><span class="p">;</span>
            <span class="k">@include</span><span class="nd"> animation-delay</span><span class="p">(</span><span class="si">#{</span><span class="nf">-</span><span class="p">(</span><span class="mi">1</span><span class="mf">.2</span> <span class="o">*</span> <span class="nv">$item</span><span class="p">)</span><span class="si">}</span><span class="n">s</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>编译出来的css就是这样：</p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.text</span> <span class="p">{</span>
  <span class="n">fill</span><span class="o">:</span> <span class="k">none</span><span class="p">;</span>
  <span class="n">stroke</span><span class="o">-</span><span class="k">width</span><span class="o">:</span> <span class="m">6</span><span class="p">;</span>
  <span class="n">stroke</span><span class="o">-</span><span class="n">linejoin</span><span class="o">:</span> <span class="n">round</span><span class="p">;</span>
  <span class="n">stroke</span><span class="o">-</span><span class="n">dasharray</span><span class="o">:</span> <span class="m">70</span> <span class="m">330</span><span class="p">;</span>
  <span class="n">stroke</span><span class="o">-</span><span class="n">dashoffset</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="n">animation</span><span class="o">:</span> <span class="n">stroke2</span> <span class="m">6s</span> <span class="n">infinite</span> <span class="n">linear</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.text</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">5n</span> <span class="o">+</span> <span class="nt">1</span><span class="o">)</span> <span class="p">{</span>
  <span class="n">stroke</span><span class="o">:</span> <span class="m">#551F7A</span><span class="p">;</span>
  <span class="n">animation</span><span class="o">-</span><span class="n">delay</span><span class="o">:</span> <span class="m">-1.2s</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.text</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">5n</span> <span class="o">+</span> <span class="nt">2</span><span class="o">)</span> <span class="p">{</span>
  <span class="n">stroke</span><span class="o">:</span> <span class="m">#BA2799</span><span class="p">;</span>
  <span class="n">animation</span><span class="o">-</span><span class="n">delay</span><span class="o">:</span> <span class="m">-2.4s</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.text</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">5n</span> <span class="o">+</span> <span class="nt">3</span><span class="o">)</span> <span class="p">{</span>
  <span class="n">stroke</span><span class="o">:</span> <span class="m">#D9587A</span><span class="p">;</span>
  <span class="n">animation</span><span class="o">-</span><span class="n">delay</span><span class="o">:</span> <span class="m">-3.6s</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.text</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">5n</span> <span class="o">+</span> <span class="nt">4</span><span class="o">)</span> <span class="p">{</span>
  <span class="n">stroke</span><span class="o">:</span> <span class="m">#FFDD00</span><span class="p">;</span>
  <span class="n">animation</span><span class="o">-</span><span class="n">delay</span><span class="o">:</span> <span class="m">-4.8s</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.text</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">5n</span> <span class="o">+</span> <span class="nt">5</span><span class="o">)</span> <span class="p">{</span>
  <span class="n">stroke</span><span class="o">:</span> <span class="m">#FFF3A1</span><span class="p">;</span>
  <span class="n">animation</span><span class="o">-</span><span class="n">delay</span><span class="o">:</span> <span class="m">-6s</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">@keyframes</span> <span class="nt">stroke</span> <span class="p">{</span>
  <span class="nt">100</span><span class="o">%</span> <span class="p">{</span>
    <span class="n">stroke</span><span class="o">-</span><span class="n">dashoffset</span><span class="o">:</span> <span class="m">-400</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>对于每一个<code>stroke</code>，我们单独设置一个动画延时，所有他们的路径就不会积聚在同一个地方，而是通过在一个字母上不同的位置循环。</p>

<h3>结论</h3>

<p>使用这种方法的文本可以使用CSS样式。我们也可以选择和复制的文本。另一大优势是，SVG具有非常好的浏览器的支持。因此，创建这类文本，SVG是最好的人选之一。</p>

<p><hr></p>

<p>未完待续......</p>

                    </div>
                </div>
                <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'zhuowenli'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    
                        <footer class="footer">
            <p class="copyright">© 2015 卓文理 · <a href="/about/" class="about">关于本站</a> · Powered by <a href="http://github.com" class="powered">GitHub</a> &amp; <a href="http://jekyllcn.com" class="powered">Jekyll</a></p>
        </footer>
            </div>
            <div class="post-backdrop"></div>
        </main>

        <script type="text/javascript" src="/res/js/index.js"></script>
        <script type="text/javascript">
            app.init();
        </script>
    </div>
</body>
</html>